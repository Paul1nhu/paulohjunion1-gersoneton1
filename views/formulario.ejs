<%- include('./layouts/header') %>

<article class="artc2">
    <h1><%= titulo %></h1>
    <p>Preencha os campos abaixo para adicionar ou editar um item.</p>

    <% /*
    O 'action' do formulário será a rota que o Express irá processar.
    Se 'item' existe (para edição), o action vai para '/salvar-item/:id'.
    Se 'item' não existe (para inclusão), o action vai para '/salvar-item'.
    */ %>
    <form action="/salvar-item<% if (item) { %>/<%= item.id %><% } %>" method="POST">
        <div>
            <label for="nome">Nome do Item:</label>
            <% /* O 'value' será preenchido se estivermos editando um item existente */ %>
            <input type="text" id="nome" name="nome" value="<%= item ? item.nome : '' %>" required>
        </div>
        <div>
            <label for="descricao">Descrição:</label>
            <textarea id="descricao" name="descricao" rows="5" required><%= item ? item.descricao : '' %></textarea>
        </div>
        <button type="submit">Salvar</button>
        <a href="/dados">Cancelar</a>
    </form>
</article>

<%- include('./layouts/footer') %>